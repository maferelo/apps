setup:
  config:
    env_file: .env
  addons:
    - plan: heroku-postgresql
      as: DATABASE
build:
  args:
    IMAGE: "${WEB_IMAGE:-tiangolo/uvicorn-gunicorn-fastapi:python3.8}"
    STAGING_VARIANT: "${WEB_IMAGE_STAGING_VARIANT:-}"
    VARIANT: "${WEB_IMAGE_VARIANT:--slim}"
  docker:
    web: Dockerfile
run:
  web: uvicorn app.main:app --host=0.0.0.0 --port=${PORT:-5000}
