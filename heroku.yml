setup:
  config:
    env_file: .env
  addons:
    - plan: heroku-postgresql
      as: DATABASE
build:
  docker:
    web: Dockerfile
  args:
    # Update 'PYTHON_VERSION' to pick a version of Python: 3, 3.10, 3.9, 3.8, 3.7
    # Append -bullseye or -buster to pin to an OS version.
    # Use -bullseye variants on local arm64/Apple Silicon.
    IMAGE_SOURCE: "tiangolo/uvicorn-gunicorn-fastapi"
    PYTHON_VERSION: "python3.8"
    STAGING_VARIANT: ""
    VARIANT: "-slim"
run:
  web: uvicorn app.main:app --host=0.0.0.0 --port=${PORT:-5000}